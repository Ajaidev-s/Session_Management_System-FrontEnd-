<div id="registrationModal" class="modal" [style.display]="isOpen ? 'block' : 'none'">
  <div class="modal-content">
    <span class="close" (click)="onClose()">&times;</span>
    <h2>Join as {{ roleId === 2 ? 'Student' : 'Trainer' }}</h2>

    <form [formGroup]="registerForm" (ngSubmit)="onRegister()">
      <div class="form-group">
        <label for="firstName">First Name</label>
        <input id="firstName" type="text" formControlName="firstName" placeholder="First name">
        @if (registerForm.get('firstName')?.touched && registerForm.get('firstName')?.invalid) {
          <small style="color:red">First name is required (min 2 chars)</small>
        }
      </div>

      <div class="form-group">
        <label for="lastName">Last Name</label>
        <input id="lastName" type="text" formControlName="lastName" placeholder="Last name">
        @if (registerForm.get('lastName')?.touched && registerForm.get('lastName')?.invalid) {
          <small style="color:red">Last name is required</small>
        }
      </div>

      <div class="form-group">
        <label for="email">Email Address</label>
        <input id="email" type="email" formControlName="email" placeholder="Enter your email">
        @if (registerForm.get('email')?.touched && registerForm.get('email')?.invalid) {
          <small style="color:red">Enter a valid email</small>
        }
      </div>

      <div class="form-group">
        <label for="password">Password</label>
        <input id="password" type="password" formControlName="password" placeholder="Create a password">
        @if (registerForm.get('password')?.touched && registerForm.get('password')?.invalid) {
          <small style="color:red">Password must be at least 6 characters</small>
        }
      </div>

      <div class="form-group">
        <label for="confirmPassword">Confirm Password</label>
        <input id="confirmPassword" type="password" formControlName="confirmPassword" placeholder="Re-enter your password">
        @if (registerForm.errors?.['passwordMismatch'] && registerForm.get('confirmPassword')?.touched) {
          <small style="color:red">Passwords do not match</small>
        }
      </div>

      @if (registerError) {
        <p style="color:red">{{ registerError }}</p>
      }

      <button type="submit" class="btn btn-primary" style="width:100%;">Create Account</button>
    </form>
  </div>
</div>